@import 'styles/global.scss';

.ImageAnimation {
  padding: rem(40) 0 rem(36);
  background-color: $theme-purple;
  margin: 0 0 rem(24);
  @media #{$lg} {
      margin: 0 0 rem(40);
      padding: rem(81) 0 rem(98);
  }
  :global {
    .sgi-wrapper {
      .sgi{
        display: none;
      }
    }
    .ImageAnimation__wrap {
      display: flex;
      justify-content: center;
      @media #{$xl} {
          padding: 0 rem(50) 0 rem(150);
          align-items: center;
          justify-content: unset;
      }
      .ImageAnimation__copy {
          flex: 0 0 100%;
          max-width: rem(340);
          @media #{$lg} {
              flex: 0 0 45%;
              max-width: 45%;
          }
          .eyebrow {
              display: block;
              margin: 0 0 rem(20);
              font-family: $degular;
              font-weight: 900;
              font-size: rem(16);
              line-height: rem(20);
              letter-spacing: rem(0.83);
              color: $textdark;
              text-transform: uppercase;
          }
          h2 {
              font-family: $degular;
              font-weight: 700;
              font-size: rem(36);
              line-height: rem(42);
              margin: 0 0 rem(21);
              color: $textdark;
              letter-spacing: rem(1.2);
              text-align: center;
              @media #{$md} {
                  font-size: rem(70);
                  font-weight: 700;
                  line-height: rem(66);
                  letter-spacing: rem(1);
                  width: 105%;
                  text-align: left;
              }
          }

          .figure-holder {
              display: block;
              margin: rem(20) 0;
              @media #{$lg} {
                  display: none;
              }
              .ImageAnimationSlider {
                position: relative;
                z-index: 1;
                .slick-list {
                  padding-bottom: 15%;
                  box-sizing: content-box;
                }
                &.reverse {
                  .slick-slide {
                    &:nth-child(odd) {
                      padding-right: 18%;
                      padding-left: 0;
                    }
                    &:nth-child(even) {
                      padding-left: 18%;
                      padding-right: 0;
                    }
                  }
                }
                .slick-slide {
                  transition: padding 0.4s ease-in-out;
                  &:nth-child(even) {
                    padding-right: 18%;
                  }
                  &:nth-child(odd) {
                    padding-left: 18%;
                  }
                  &.slick-active:not(.slick-current) {
                    .ImageAnimationSlide {
                      margin-top: -10%;
                    }
                  }
                  &.slick-current {
                    &+.slick-active {
                      .ImageAnimationSlide {
                        transition-delay: 0s;
                        z-index: 99;
                        figure {
                          img {
                            opacity: 1;
                          }
                        }
                      }
                      &+.slick-active{
                        &+.slick-slide {
                          .ImageAnimationSlide {
                            margin-top: -10%;
                          }
                        }
                      }
                    }
                  }

                }
                .ImageAnimationSlide {
                  // width: 80% !important;
                  position: relative;
                  transition: all 0.4s ease-in-out;
                  transition-delay: 0.6s;
                  @for $i from 1 through 50 {
                    &:nth-child(#{$i}) {
                      z-index: #{50 - $i};
                    }
                  }
                  figure {
                    position: relative;
                    &::after {
                      content: '';
                      position: absolute;
                      background-color: #C6C6FA;
                      width: 98%;
                      height: 94.5%;
                      top: 2%;
                      left: 1%;
                      border-radius: 25px !important;
                    }
                    img {
                      position: relative;
                      z-index: 1;
                      opacity: 0.7;
                      transition: 0.4s ease-in-out;
                    }
                  }
                }
              }
          }
          p, .tagline {
              font-family: $aeonik;
              //font-weight: 900;
              font-size: rem(18);
              line-height: rem(25);
              margin: 0 0 rem(21);
              color: $textdark;
              max-width: rem(400);
              text-align: center;
              @media #{$lg} {
                  font-weight: bold;
                  text-align: left;
              }
              &.big {
                  font-size: rem(20);
                  line-height: rem(24);
                  letter-spacing: 0;
                  @media #{$lg} {
                      font-size: rem(24);
                      line-height: rem(25);
                      font-weight: 500;
                  }
              }
          }
          .btn {
              border: 0;
              font-size: rem(15);
              line-height: rem(22);
              padding: rem(9) rem(15);
              min-height: auto;
              cursor: pointer;
              margin: rem(30) 0 rem(20);
              width: 100%;
              @media #{$lg} {
                  width: auto;
                  font-size: rem(17);
                  line-height: rem(25);
                  padding: rem(10) rem(15);
                  min-width: rem(322);
              }
              &.light {
                  background-color: white;
                  &:hover {
                      background-color: $textdark;
                      color: white;
                  }
              }
          }
      }
      .ImageAnimation__figure {
          display: none;
          padding-left: 5%;
          @media #{$lg} {
              display: block;
              flex: 0 0 55%;
              max-width: 55%;
          }
          .figure-holder--parallax{
            .paralax-img-hold-wrapper{
              display: flex;
              flex-direction: column;
              &:first-child {
                padding-left: 19%;
              }
              &:last-child {
                margin-top: -18%;
                padding-right: 19%;
              }
              .paralax-img-hold {
                margin-top: -23%;
                &:first-child {
                  margin-top: 0;
                  z-index: 1;
                }
                &:nth-child(odd) {
                  padding-right: 21%;
                }
                &:nth-child(even) {
                  padding-left: 21%;
                }
              }
            }
          }

          .ImageAnimationSlider {
            position: relative;
            z-index: 1;
            .slick-list {
              padding-bottom: 18%;
              box-sizing: content-box;
            }
            &.reverse {
              .slick-slide {
                &:nth-child(odd) {
                  padding-right: 18%;
                  padding-left: 0;
                }
                &:nth-child(even) {
                  padding-left: 18%;
                  padding-right: 0;
                }
              }
            }
            .slick-slide {
              transition: padding 0.4s ease-in-out;
              &:nth-child(even) {
                padding-right: 18%;
              }
              &:nth-child(odd) {
                padding-left: 18%;
              }
              &.slick-active:not(.slick-current) {
                .ImageAnimationSlide {
                  margin-top: -10%;
                }
              }
              &.slick-current {
                &+.slick-active {
                  .ImageAnimationSlide {
                    transition-delay: 0s;
                    z-index: 99;
                    figure {
                      img {
                        opacity: 1;
                      }
                    }
                  }
                  &+.slick-active{
                    &+.slick-slide {
                      .ImageAnimationSlide {
                        margin-top: -10%;
                      }
                    }
                  }
                }
              }

            }
            .ImageAnimationSlide {
              // width: 80% !important;
              position: relative;
              transition: all 0.4s ease-in-out;
              transition-delay: 0.6s;
              @for $i from 1 through 50 {
                &:nth-child(#{$i}) {
                  z-index: #{50 - $i};
                }
              }
              figure {
                position: relative;
                &::after {
                  content: '';
                  position: absolute;
                  background-color: #C6C6FA;
                  width: 98%;
                  height: 94.5%;
                  top: 2%;
                  left: 1%;
                  border-radius: 25px;
                }
                img {
                  position: relative;
                  z-index: 1;
                  opacity: 0.7;
                  transition: 0.4s ease-in-out;
                }
              }
            }
          }
      }
    }
    .calculatorContainer {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 99;
      top: 0;
      left: 0;
      padding: rem(40) rem(10);
      overflow: auto;
      background-color: rgba($color: #000000, $alpha: 0.7);
      @media #{$lg} {
        padding: rem(100) rem(20);
      }
      * {
        font-family: $aeonik !important;
      }
      &.anim {
        .calculatorContainer__wrapper {
          visibility: visible;
          opacity: 1;
          margin-top: 0;
        }
      }
      .calculatorContainer__wrapper {
        position: relative;
        opacity: 0;
        transition-delay: 0.4s;
        transition: all 0.4s ease-in-out;
        visibility: hidden;
        background-color: white;
        padding: rem(40) rem(10) 0;
        @media #{$md} {
          display: flex;
          margin-top: rem(20);
          padding: 0;
        }
        .calculatorContainer__ad {
          flex: 0 0 30%;
          padding: rem(60) rem(60) rem(60) 0;
          margin: rem(10) 0 0;
          display: none;
          @media #{$md} {
            display: block;
          }
        }
        .sgi-header__title {
          font-family: $degular !important;
          font-weight: 600 !important;
          color: $textdark !important;
          @media #{$md} {
            font-size: rem(40) !important;
            line-height: rem(66) !important;
            letter-spacing: rem(0.5) !important;
            margin: 0 !important;
          }
        }
        .sgi-header__subtitle {
          color: $textdark !important;
          @media #{$md} {
            font-size: rem(17) !important;
            line-height: rem(25) !important;
            letter-spacing: 0 !important;
          }
        }
        .sgi-footer__info-poweredby {
          display: none !important;
        }
      }
      .menu-close {
        cursor: pointer;
        position: absolute;
        padding: 0;
        width: rem(16);
        height: rem(16);
        border: 0;
        right: rem(20);
        top: rem(20);
        @media #{$md} {
          right: rem(30);
          top: rem(30);
        }
      }
      #sgi {
        .sgi-calculator {
          @media #{$md} {
            max-width: calc(100% - 40px);
          }
        }
      }
    }
  }
  &:global(.orange) {
      background-color: $theme-orange;
      :global {
        .ImageAnimation__wrap {
            .ImageAnimation__copy {
                .eyebrow, h2, p {
                    color: white;
                }
            }
        }
      }
  }
  &:global(.green) {
    background-color: $theme-green;
  }
  &:global(.refi) {
    :global {
      .ImageAnimation__wrap {
          .ImageAnimation__copy {
              display: flex;
              flex-direction: column;
              @media #{$lg} {
                  display: block;
                  flex-direction: unset;
              }
              .eyebrow {
                  order: 1;
              }
              h2 {
                  margin: 0 0 rem(30);
                  order: 2;
              }
              p {
                  margin: 0 0 rem(30);
                  text-align: left;
                  order: 3;
                  @media #{$lg} {
                      margin: 0 0 rem(67);
                  }
              }
              .figure-holder {
                  order: 4;
                  margin: 0 0 rem(50);
              }
              .btn {
                  order: 5;
                  @media #{$lg} {
                      text-transform: uppercase;
                      min-width: rem(375);
                  }
              }
          }
      }
    }
  }
  &:global(.small-copy-sec) {
    :global {
      .ImageAnimation__wrap {
          .ImageAnimation__copy {
              @media #{$lg} {
                  flex: 0 0 33%;
                  max-width: 33%;
              }
          }
          .ImageAnimation__figure {
              @media #{$lg} {
                  padding-left: rem(70);
              }
          }
      }
    }
  }
  &:global(.light) {
    :global {
      .ImageAnimation__wrap {
          .ImageAnimation__copy {
              .eyebrow, h2, p {
                  color: white;
              }
          }
      }
    }
  }
  &:global(.purchase) {
    padding: rem(30) 0 rem(0);
    margin: 0;
    @media #{$md} {
        padding: rem(77) 0 0;
    }
    :global {
      .ImageAnimation__wrap {
          .ImageAnimation__copy {
              h2 {
                  @media #{$md} {
                      margin: 0 0 rem(40);
                  }
              }
              p {
                  @media #{$lg} {
                      margin: 0 0 rem(40);
                  }
              }
              .figure-holder {
                  display: none;
              }
              .btn {
                  display: none;
                  @media #{$lg} {
                      display: inline-block;
                  }
              }
          }
          .ImageAnimation__figure {
              flex: 1;
              .figure-holder {
                  max-width: rem(700);
                  margin-left: auto;
              }
          }
      }
    }
  }
  &:global(.about) {
    margin: 0;
    @media #{$lg} {
        padding: rem(42) 0 rem(61);
    }
    :global {
      .ImageAnimation__wrap {
        .ImageAnimation__copy {
            .eyebrow {
                order: unset;
            }
            h2 {
                max-width: rem(470);
                order: unset;
                @media #{$lg} {
                    margin: 0 0 rem(60);
                }
                @media (max-width: 480px) {
                    font-weight: bold;
                    font-size: rem(48);
                    line-height: rem(48);
                    letter-spacing: rem(0.38);
                }
            }
            p {
                order: unset;
                max-width: rem(460);
            }
            .figure-holder {
                order: unset;
            }
            .btn {
                min-width: auto;
                @media #{$lg} {
                    padding-left: rem(30);
                    padding-right: rem(30);
                }
            }
        }
        .ImageAnimation__figure {
            .figure-holder {
                max-width: rem(585);
                margin-left: rem(40);
            }
        }
      }
    }
  }
}
